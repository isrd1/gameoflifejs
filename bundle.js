!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var s=class{constructor(e){this.cells=[],this.height=e.uniHeight,this.length=e.uniLength,this.cellHeight=e.cellHeight,this.cellLength=e.cellLength}create(){for(let e=0;e<this.height;e++){this.cells.push(new Array);for(let t=0;t<this.length;t++){const i=e*this.length+t;this.cells[e].push({id:i,state:0,x:t*this.cellLength,y:e*this.cellHeight,neighbours:[i-this.length-1,i-this.length,i-this.length+1,i-1,i+1,i+this.length-1,i+this.length,i+this.length+1]})}}}};function n(e,t,i){const s=e.universe.length,n=e.universe.height;let h=0;for(let i=0;i<8;i++){const r=t.neighbours[i];r>=s*n||r<0||1===l(e,r).state&&h++}1===t.state?h<2?i.push(t.id):h>3&&i.push(t.id):3===h&&i.push(t.id)}function h(e){this.ctx.fillStyle=e.state?"white":"#333",this.ctx.fillRect(e.x+1,e.y+1,this.universe.cellLength-2,this.universe.cellHeight-2),e.state=e.state?0:1}function l(e,t){const i=Math.floor(t/e.universe.length),s=t%e.universe.length;return e.universe.cells[i][s]}var r=class{constructor(e){this.timer=null,this.canvas=e.canvas,this.ctx=e.context,this.universe=e.universe,this.universeElem=document.getElementById("universe"),this.speed=e.speed,this.stopListener=this.stop.bind(this),this.playListener=this.play.bind(this),this.loopCellsListener=function(e){const t=this.universeElem,i=e.pageX-t.offsetLeft,s=e.pageY-t.offsetTop;for(let e=0;e<this.universe.height;e++)for(let t=0;t<this.universe.length;t++){const n=this.universe.cells[e][t];i>n.x&&i<n.x+this.universe.cellLength&&s>n.y&&s<n.y+this.universe.cellHeight&&h.apply(this,[n])}}.bind(this),function(){this.ctx.strokeStyle="#777",this.ctx.lineWidth=1;for(let e=1;e<this.universe.length;e++)this.ctx.beginPath(),this.ctx.moveTo(this.universe.cellLength*e,0),this.ctx.lineTo(this.universe.cellLength*e,this.universe.height*this.universe.cellHeight),this.ctx.stroke();for(let e=1;e<this.universe.height;e++)this.ctx.beginPath(),this.ctx.moveTo(0,this.universe.cellHeight*e),this.ctx.lineTo(this.universe.length*this.universe.cellLength,this.universe.cellHeight*e),this.ctx.stroke()}.apply(this)}iniSetup(){const e=document.getElementById("start");this.universeElem.addEventListener("click",this.loopCellsListener),e.addEventListener("click",this.playListener),e.disabled=!1}play(e){const t=document.getElementById("start"),i=document.getElementById("stop");i.addEventListener("click",this.stopListener),i.disabled=!1,t.removeEventListener("click",this.playListener),t.disabled=!0,this.universeElem.removeEventListener("click",this.loopCellsListener),this.timer=setInterval(function(){const e=this,t=[];for(let i=0;i<this.universe.height;i++)for(let s=0;s<this.universe.length;s++){const h=this.universe.cells[i][s];n(e,h,t)}if(t.length>0==1)for(let i=0;i<t.length;i++){const s=l(e,t[i]);h.apply(this,[s])}else this.stop(null)}.bind(this),this.speed),e.preventDefault()}stop(e){const t=document.getElementById("stop");t.removeEventListener("click",this.stopListener),t.disabled=!0,clearInterval(this.timer),this.iniSetup(),e.preventDefault()}};const c=document.getElementById("universe"),o=c.getContext("2d"),u=new s({uniLength:40,uniHeight:40,cellLength:16,cellHeight:16});u.create(),new r({canvas:c,context:o,universe:u,speed:200}).iniSetup()}]);